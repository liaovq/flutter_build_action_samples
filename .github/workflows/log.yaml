name: Console log

on:
  workflow_dispatch:

jobs:
  log:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: echo "ðŸ’¡ Start"
      - run: echo "ðŸ’¡ commits 0 is ${{ github.event.commits[0] }}"
      - run: echo "ðŸ’¡ commits 0 message is ${{ github.event.commits[0].message }}"
      - run: echo "ðŸ’¡ head_commit is ${{ github.event.head_commit }}"
      - run: echo "ðŸ’¡ head_commit message is ${{ github.event.head_commit.message }}"
      - run: echo "ðŸ’¡ actor is ${{ github.actor }}"
      - run: echo "ðŸ’¡ ref is ${{ github.event.ref }}"
      - run: echo "ðŸ’¡ ref_name is ${{ github.event.ref_name }}"
      - run: echo "ðŸ’¡ event is ${{toJSON(github.event)}}"
      - run: echo "ðŸ’¡ github is ${{toJSON(github)}}"
      - name: Obtain commit info
        run: |
          echo "FIRST_COMMIT_MESSAGE=$(git log --no-merges -n 1 --pretty=format:%s)" >> $GITHUB_ENV
          echo "FIRST_COMMIT_AUTHOR=$(git log --no-merges -n 1 --pretty=%an)" >> $GITHUB_ENV
      - run: echo "ðŸ’¡ FIRST_COMMIT_MESSAGE is ${{ env.FIRST_COMMIT_MESSAGE }}"
      - run: echo "ðŸ’¡ FIRST_COMMIT_MESSAGE is ${{ env.FIRST_COMMIT_AUTHOR }}"
      - run: echo "ðŸ’¡ End"
